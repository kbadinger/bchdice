{"version":3,"sources":["components/droplist.jsx","App.js","reportWebVitals.js","index.js"],"names":["defaultState","activeUser","accountName","dropItems","drops","statusDisplay","ourNetwork","protocol","host","port","picture","height","width","cardstyleGreen","border","borderColor","borderStyle","cardstyleRed","DropListApp","props","renderLogoutBtn","handleDropUpdate","event","etv","target","value","setState","state","searchDrop","a","lb","newAsset","haveCollection","searchAssets","itemNdx","resp","rows","asset_id","tid","template_id","searchIndex","findIndex","d","itm","numberHad","have","Object","keys","length","sort","b","renderDropForm","style","marginLeft","marginRight","marginTop","display","marginBottom","position","verticalAlign","textAlign","margin","Form","Group","controlId","float","Control","type","name","placeholder","onChange","Button","onClick","variant","Typography","component","paddingBottom","paddingTop","ctr","Grid","container","spacing","map","item","i","desc","img","imgTag","src","alt","xs","sm","md","key","drop_id","Card","CardHeader","title","collection_name","subheader","CardContent","color","rpc","JsonRpc","renderModalButton","bind","buyDrop","partition","str","n","l","aa","push","substr","console","log","this","_asyncRequest","get_table_rows","json","code","scope","table","lower_bound","limit","reverse","show_payer","then","schema_name","os","ObjectSchema","deserializedData","deserialize","immutable_serialized_data","cancel","buyId","pri","buyClaimContract","className","startingAsset","React","Component","displayName","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.911fdb03.chunk.js","sourcesContent":["import { JsonRpc } from \"eosjs\";\nimport { deserialize, ObjectSchema } from \"atomicassets\";\nimport React from \"react\";\nimport {\n  Button,\n  Card,\n   \n  CardHeader,\n  Typography,\n  CardContent,\n  Grid, \n} from \"@material-ui/core\";\nimport Form from \"react-bootstrap/Form\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./droplist.css\";\n \nconst defaultState = {\n  activeUser: null,\n  accountName: \"\",\n  dropItems: \"\",\n  drops: [],\n  statusDisplay: \"\",\n};\n\nvar ourNetwork = {\n  chainId: \"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4\",\n  rpcEndpoints: [{ protocol: \"https\", host: \"chain.wax.io\", port: \"\" }],\n};\n\nconst picture = {\n  height: \"250px\",\n  width: \"150px\",\n};\n\nconst cardstyleGreen = {\n  border: 10,\n  borderColor: \"green\",\n  borderStyle: \"solid\",\n};\n\nconst cardstyleRed = {\n  border: 10,\n  borderColor: \"red\",\n  borderStyle: \"solid\",\n};\n \n\nclass DropListApp extends React.Component {\n  static displayName = \"BCH Draco collection\";\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...defaultState,\n      rows: [],\n      drops: [],\n      ctr: 0,\n      have: 0,\n      rpc: new JsonRpc(\n        `${ourNetwork.rpcEndpoints[0].protocol}://${ourNetwork.rpcEndpoints[0].host}`\n      ),\n    };\n\n    this.renderModalButton = this.renderModalButton.bind(this);\n    this.handleDropUpdate = this.handleDropUpdate.bind(this);\n    this.searchDrop = this.searchDrop.bind(this);\n\n    this.renderDropForm = this.renderDropForm.bind(this);\n    this.buyDrop = this.buyDrop.bind(this);\n \n    this.partition = (str, n) => {\n      var aa = [];\n      var i, l;\n      for (i = 0, l = str.length; i < l; i += n) {\n        aa.push(str.substr(i, n));\n      }\n      return aa;\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"run\");\n\n    this._asyncRequest = this.state.rpc\n      .get_table_rows({\n        json: true,\n        code: \"atomicassets\",\n        scope: \"dracodice\",\n        table: \"templates\",\n        lower_bound: \"356879\",\n        limit: 1000,\n        reverse: false,\n        show_payer: false,\n      })\n      .then((resp) => {\n        this._asyncRequest = null;\n\n        var ctr = 0;\n\n        for (let itemNdx in resp.rows) {\n          let item = resp.rows[itemNdx];\n\n          if (item.schema_name === \"bcheroes1\") {\n            ctr++;\n\n            let os = ObjectSchema([\n              { name: \"name\", type: \"string\" },\n              { name: \"img\", type: \"image\" },\n              { name: \"series\", type: \"string\" },\n              { name: \"rarity\", type: \"string\" },\n              { name: \"material\", type: \"string\" },\n              { name: \"style\", type: \"string\" },\n              { name: \"face values\", type: \"string\" },\n              { name: \"gameimg\", type: \"image\" },\n              { name: \"video\", type: \"string\" },\n              { name: \"shape\", type: \"string\" },\n            ]);\n            let deserializedData = deserialize(\n              item.immutable_serialized_data,\n              os\n            );\n\n            item.name = deserializedData.name;\n            item.numberHad = 0;\n\n            // console.log(item);\n\n            item.imgTag = \"https://ipfs.io/ipfs/\" + deserializedData.img;\n\n            this.state.drops.push(item);\n          }\n        }\n\n        this.setState((state) => ({\n          ...this.state,\n          ctr: ctr,\n          drops: this.state.drops,\n        }));\n      });\n  }\n\n  componentWillUnmount() {\n    if (this._asyncRequest) {\n      this._asyncRequest.cancel();\n    }\n  }\n\n  async buyDrop(buyId, pri) {\n    this.buyClaimContract(buyId, pri);\n  }\n\n  componentDidUpdate() {\n  \n \n  }\n\n  renderLogoutBtn = () => {};\n\n  renderModalButton() {\n    return <p className=\"ual-btn-wrapper\"></p>;\n  }\n\n  handleDropUpdate = (event) => {\n    let etv = event.target.value;\n\n    this.setState((state) => ({\n      ...this.state,\n      dropItems: etv,\n    }));\n  };\n\n  searchDrop = async (event) => {\n    var lb = \"0\";\n\n    var newAsset = \"1\";\n\n    var haveCollection = {};\n\n    while (lb !== newAsset) {\n      newAsset = lb;\n\n      let resp = await this.searchAssets(lb);\n\n      for (let itemNdx in resp.rows) {\n        \n          lb = resp.rows[itemNdx].asset_id;\n\n          var tid = resp.rows[itemNdx].template_id;\n\n          const searchIndex = this.state.drops.findIndex(\n            (d) => d.template_id === resp.rows[itemNdx].template_id\n          );\n\n          if (searchIndex >= 0) {\n            let itm = this.state.drops[searchIndex];\n            itm.numberHad++;\n\n            haveCollection[tid] = 1;\n            this.state.drops[searchIndex] = itm;\n            this.setState((state) => ({\n              ...this.state,\n              have: Object.keys(haveCollection).length,\n              drops: this.state.drops.sort(function(a, b){return a.numberHad-b.numberHad}),\n            }));\n          }\n       \n      }\n    }\n  };\n\n  async searchAssets(startingAsset) {\n    let resp = await this.state.rpc.get_table_rows({\n      json: true,\n      code: \"atomicassets\",\n      scope: this.state.dropItems,\n      table: \"assets\",\n      lower_bound: startingAsset,\n      limit: 1000,\n      reverse: false,\n      show_payer: false,\n    });\n\n    return resp;\n  }\n \n\n  renderDropForm = () => {\n    const { dropItems } = this.state;\n\n   \n    return (\n      <div\n        style={{\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          width: \"100%\",\n          marginTop: \"40px\",\n          display: \"table\",\n          marginBottom: \"10px\",\n        }}\n      >\n        <div\n          style={{\n            position: \"relative\",\n            verticalAlign: \"middle\",\n            width: \"100%\",\n            display: \"table-cell\",\n          }}\n        >\n          <h2 style={{ marginBottom: \"40px\", textAlign: \"center\" }}>\n            Draco Dice BCH Physical Collection Tools\n          </h2>\n\n          <div\n            style={{ width: \"550px\", margin: \"auto\", verticalAlign: \"middle\" }}\n          >\n            <Form>\n              <Form.Group controlId=\"dropItems\">\n                <div style={{ width: \"150%\" }}>\n                  <div style={{ width: \"300px\", float: \"left\" }}>\n                    <Form.Control\n                      type=\"text\"\n                      name=\"dropItems\"\n                      placeholder=\"Wallet\"\n                      value={dropItems}\n                      onChange={this.handleDropUpdate}\n                    />\n                  </div>\n                  <div style={{ marginLeft: \"305px\" }}>\n                    <Button onClick={this.searchDrop} variant=\"contained\">\n                      Search\n                    </Button>\n                  </div>\n                </div>\n              </Form.Group>\n\n              <Typography variant=\"subtitle2\" component=\"h2\">\n                {this.state.statusDisplay}\n              </Typography>\n            </Form>\n          </div>\n\n          <div\n            style={{\n              margin: \"auto\",\n              textAlign: \"center\",\n              verticalAlign: \"middle\",\n              paddingBottom: \"50px\",\n              paddingTop: \"25px\",\n              width: \"900px\",\n            }}\n          >\n            <h3>\n              BCH Collection Draco Dice (Have {this.state.have} of{\" \"}\n              {this.state.ctr})\n            </h3>\n            <Grid container spacing={4}>\n              {this.state.drops.map(function (item, i) {\n                var desc = item.name;\n\n                var have = item.numberHad;\n\n                \n                let img = \"\";\n\n                if (item.imgTag != null && item.imgTag.length > 0) {\n                  img = <img style={picture} src={item.imgTag}  alt=\"bch dice\" />;\n                }\n\n                return (\n                  <Grid item xs={12} sm={6} md={4} key={item.drop_id}>\n                    <Card style={have > 0 ? cardstyleGreen : cardstyleRed}>\n                      <CardHeader\n                        title={item.collection_name ?? \"\"}\n                        subheader={item.drop_id ?? \"\"}\n                      />\n                      <CardContent>\n                        {img}\n                        <Typography\n                          variant=\"body2\"\n                          color=\"textSecondary\"\n                          component=\"p\"\n                        >\n                          {desc}\n                          <br />\n                          Number of Assets: {have}\n                        </Typography>\n                      </CardContent>\n                    </Card>\n                  </Grid>\n                );\n              })}\n            </Grid>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    return this.renderDropForm();\n  }\n}\n\nexport default DropListApp;\n","import React from \"react\";\nimport DropListApp from \"./components/droplist\";\n \nfunction App() {\n \n\n  return (\n   <DropListApp/>);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}